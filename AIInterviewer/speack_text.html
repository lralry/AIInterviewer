<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>语音转文字</title>
</head>
<body>
    <div id="resultBox">请说话...</div>

    <script>
        const resultBox = document.getElementById('resultBox');

        // 在页面加载完成后自动开始录音
        window.addEventListener('DOMContentLoaded', () => {
            resultBox.textContent = '正在准备录音...';
            startRecording();
        });

        // 使用 Web Speech API 开始语音识别
        function startRecording() {
            const recognition = new webkitSpeechRecognition();
            recognition.lang = 'zh-CN';
            recognition.continuous = false;
            recognition.interimResults = true;

            recognition.onresult = (event) => {
                const transcript = event.results[0][0].transcript;
                resultBox.textContent = transcript;
            };

            recognition.onerror = (event) => {
                resultBox.textContent = '识别出错：' + event.error;
            };

            recognition.onend = () => {
                resultBox.textContent = '录音结束，点击页面重新开始录音';
            };

            recognition.start();
        }
    </script>
</body>
</html>
